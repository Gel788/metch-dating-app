# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Metch

## üìê –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–µ–∫–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Next.js 16 –∏ App Router, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- Server-side rendering (SSR)
- API Routes –¥–ª—è backend –ª–æ–≥–∏–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- SEO-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

### 1. –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–π (Frontend)
```
app/
‚îú‚îÄ‚îÄ (pages)          # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx     # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ auth/        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ profiles/    # –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ messages/    # –°–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ likes/       # –õ–∞–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ premium/     # –ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ gifts/       # –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ video-call/  # –í–∏–¥–µ–æ-–∑–≤–æ–Ω–∫–∏
‚îî‚îÄ‚îÄ components/      # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

### 2. –°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (API Routes)
```
app/api/
‚îú‚îÄ‚îÄ auth/           # NextAuth.js endpoints
‚îú‚îÄ‚îÄ profiles/       # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏
‚îú‚îÄ‚îÄ messages/       # –û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
‚îú‚îÄ‚îÄ likes/          # –°–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫–æ–≤
‚îú‚îÄ‚îÄ gifts/          # –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤
‚îî‚îÄ‚îÄ premium/        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
```

### 3. –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö (Database)
```
prisma/
‚îî‚îÄ‚îÄ schema.prisma   # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:

1. **User** (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
   - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (email, password)
   - –°–≤—è–∑—å 1:1 —Å Profile
   - –°–≤—è–∑—å 1:1 —Å Premium (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. **Profile** (–ü—Ä–æ—Ñ–∏–ª—å)
   - –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (1:N —Å Photo)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏)

3. **Message** (–°–æ–æ–±—â–µ–Ω–∏–µ)
   - –°–≤—è–∑—å M:N –º–µ–∂–¥—É Users
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
   - –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á—Ç–µ–Ω–∏—è

4. **Like** (–õ–∞–π–∫)
   - –°–≤—è–∑—å M:N –º–µ–∂–¥—É Users
   - Unique constraint –Ω–∞ –ø–∞—Ä—É (giver, receiver)

5. **Gift** (–ü–æ–¥–∞—Ä–æ–∫)
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –ö–∞—Ç–∞–ª–æ–≥ —Å —Ü–µ–Ω–∞–º–∏

6. **Premium** (–ü–æ–¥–ø–∏—Å–∫–∞)
   - –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–ª–∞–Ω—ã (BASIC, STANDARD, PREMIUM, VIP)
   - –î–∞—Ç—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è
   - –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

7. **VideoCall** (–í–∏–¥–µ–æ-–∑–≤–æ–Ω–æ–∫)
   - –ò—Å—Ç–æ—Ä–∏—è –∑–≤–æ–Ω–∫–æ–≤
   - –°—Ç–∞—Ç—É—Å—ã (PENDING, ACCEPTED, REJECTED, ENDED)
   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üîê –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **NextAuth.js** —Å JWT —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å **bcrypt** (rounds: 10)
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ API routes —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–µ—Å—Å–∏–∏

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –ø—Ä–æ—Ñ–∏–ª–∏
- –õ–∏–º–∏—Ç—ã –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- **Zod** —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Server-side –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–æ—Ä–º
- TypeScript –¥–ª—è type-safety

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
1. User –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É ‚Üí POST /api/auth/signup
2. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Zod)
3. –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è (bcrypt)
4. –°–æ–∑–¥–∞–Ω–∏–µ User + Profile (Prisma transaction)
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ NextAuth
6. Redirect ‚Üí /profiles
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π
```
1. User ‚Üí GET /api/profiles?filters
2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–ø–æ–ª, –≤–æ–∑—Ä–∞—Å—Ç, –≥–æ—Ä–æ–¥)
3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (TOP –ø—Ä–æ—Ñ–∏–ª–∏ –ø–µ—Ä–≤—ã–º–∏)
4. –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. –í–æ–∑–≤—Ä–∞—Ç —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```
1. User ‚Üí POST /api/messages
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Premium —Å—Ç–∞—Ç—É—Å–∞
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ (10 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å –¥–ª—è free)
4. –°–æ–∑–¥–∞–Ω–∏–µ Message
5. [–ë—É–¥—É—â–µ–µ] WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—é
```

### –°–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫–æ–≤
```
1. User ‚Üí POST /api/likes
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ª–∞–π–∫–∞
3. –°–æ–∑–¥–∞–Ω–∏–µ Like
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–Ω–æ—Å—Ç–∏
5. –ï—Å–ª–∏ Match ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–±–æ–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
```

## üé® UI/UX –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞
- **–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞**: –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã pink-purple
- **–®—Ä–∏—Ñ—Ç—ã**: Inter (system fonts fallback)
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: Tailwind CSS utility classes
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: Mobile-first –ø–æ–¥—Ö–æ–¥

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (Navbar)
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è auth/non-auth
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å redirect

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- Loading states –¥–ª—è –≤—Å–µ—Ö async –æ–ø–µ—Ä–∞—Ü–∏–π
- Skeleton screens (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)
- Error boundaries –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **Next.js Image** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
2. **Lazy loading** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **Prisma Connection Pooling**
4. **Server Components** –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
5. **Client Components** —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Redis
2. CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
3. Database indexes (—É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ schema)
4. Rate limiting –¥–ª—è API
5. Image CDN (Cloudinary/AWS S3)

## üîÑ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- **Socket.io** –¥–ª—è real-time —Å–æ–æ–±—â–µ–Ω–∏–π
- WebSocket –¥–ª—è online —Å—Ç–∞—Ç—É—Å–æ–≤
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –∂–∞–ª–æ–± –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç—ã
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- CI/CD pipeline
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Sentry, LogRocket)
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

## üì± –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### Horizontal Scaling
- Stateless API (JWT —Ç–æ–∫–µ–Ω—ã)
- Database read replicas
- Load balancer

### Vertical Scaling
- Database optimization
- Query optimization
- Caching layers

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–µ–∫
- **Jest** –¥–ª—è unit tests
- **React Testing Library** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Playwright** –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤
- **Prisma integration tests** –¥–ª—è –ë–î

### Coverage —Ü–µ–ª–∏
- Unit tests: >80%
- Integration tests: –∫—Ä–∏—Ç–∏—á–Ω—ã–µ flow
- E2E tests: –æ—Å–Ω–æ–≤–Ω—ã–µ user journey

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- Components: PascalCase
- Functions: camelCase
- Constants: UPPER_SNAKE_CASE
- Files: kebab-case –¥–ª—è pages, PascalCase –¥–ª—è components

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- JSDoc –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Inline comments –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
- TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –∏–º–µ–Ω–µ–º –∞–≤—Ç–æ—Ä–∞

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-02-04
